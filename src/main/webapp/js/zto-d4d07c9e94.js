var zto=zto||{};!function(r){var t;function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function i(t){return axios.request(t)}zto.config=zto.config||{},"auth.dev.ztosys.com"===(t=r.location.host)||0===t.indexOf("localhost")?(zto.config.authHost="http://auth.dev.ztosys.com",zto.config.officialUrl="http://10.9.20.93:7994",zto.config.realNameAuthUrl="http://m.dev.ztosys.com/member/realnameauth",zto.config.officialUserCenterUrl="http://10.9.20.93:7995",zto.config.officialUserCenterCreateOrderUrl="http://10.9.20.93:7995/html/create/index.html",zto.config.officialUserCenterPersonalUrl="http://10.9.20.93:7995/html/personal/index.html",zto.config.serviceUrl="https://hdgateway-test.zto.cn",zto.config.image_serviceUrl="https://mapi-test.zto.cn",zto.config.wechatMpAppId="wx94f665836dae08d1",zto.config.wechatWebAppId="wx830ea37e0bdae6fa",zto.config.alipayFuwuAppId="2017072007823763",zto.config.qqMpAppId="201112592",zto.config.qqConnectAppId="101469320"):"auth.test.ztosys.com"===t||"auth-test.zto.cn"===t?(zto.config.authHost="https://auth-test.zto.cn",zto.config.officialUrl="https://gw-test.zto.cn",zto.config.realNameAuthUrl="https://m-test.zto.cn/member/realnameauth",zto.config.officialUserCenterUrl="https://my-test.zto.cn",zto.config.officialUserCenterCreateOrderUrl="https://my-test.zto.cn/create",zto.config.officialUserCenterBatchCreateOrderUrl="https://my-test.zto.cn/batch-create",zto.config.officialUserCenterPersonalUrl="https://my-test.zto.cn/user-center/setting",zto.config.officialUserCenterHelp="https://my-test.zto.cn/faq",zto.config.serviceUrl="https://hdgateway-test.zto.cn",zto.config.image_serviceUrl="https://mapi-test.zto.cn",zto.config.wechatMpAppId="wx7dc7070d6ec04d5a",zto.config.wechatWebAppId="wxeb2a95faf64fd3a6",zto.config.alipayFuwuAppId="2015033100040923",zto.config.qqMpAppId="201115135",zto.config.qqConnectAppId="101469322",zto.config.qqConnectAppId="101469322"):(zto.config.authHost="https://auth.zto.com",zto.config.officialUrl="http://www.zto.com",zto.config.realNameAuthUrl="https://m.zto.com/member/realnameauth",zto.config.officialUserCenterUrl="https://my.zto.com",zto.config.officialUserCenterCreateOrderUrl="https://my.zto.com/create",zto.config.officialUserCenterBatchCreateOrderUrl="https://my.zto.com/batch-create",zto.config.officialUserCenterPersonalUrl="https://my.zto.com/user-center/setting",zto.config.officialUserCenterHelp="https://my.zto.com/faq",0<=navigator.userAgent.toLocaleLowerCase().indexOf("iphone os 12")?zto.config.serviceUrl="https://auth.zto.com/api":zto.config.serviceUrl="https://hdgateway.zto.com",zto.config.wechatMpAppId="wxdb943f961ca9da9d",zto.config.wechatWebAppId="wx48b603bcabbd1c20",zto.config.alipayFuwuAppId="2015031800037192",zto.config.qqMpAppId="1104538455",zto.config.qqConnectAppId="101463133",zto.config.image_serviceUrl="https://mapi.zto.com"),zto.toast=zto.toast||{},zto.toast.show=function(t,e){e=e||2,layer.open({content:t,skin:"msg",time:e})},zto.utils=zto.utils||{},zto.utils.xss=function(t){null!=(e=document.createElement("div")).textContent?e.textContent=t:e.innerText=t;var t=e.innerHTML,e=null,e=t.toLocaleLowerCase().indexOf("javascript");return 0<=e?t.substring(0,e)+t.substring(e+10):t},zto.utils.$c=function(t){return"."===t.substr(0,1)?document.getElementsByClassName(t.substr(1,t.length-1))[0]:document.getElementById(t.substr(1,t.length-1))},zto.utils.getQueryString=function(t){t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),t=r.location.search.substr(1).match(t);if(null==t)return null;t=unescape(t[2]);return zto.utils.xss(t)},zto.utils.goRedirectUri=function(t){var e=zto.ssoState.getEntryState(),o=0<=e.redirectUri.lastIndexOf("?")?"&":"?",e=e.redirectUri+o+"accessToken="+t+"&state="+e.state;r.location.replace(e)},zto.client=zto.client||{},zto.client.code={},zto.client.code.wechatMp="wechatMp",zto.client.code.alipayFuwu="alipayFuwu",zto.client.code.qqMp="qqMp",zto.client.code.androidApp="androidApp",zto.client.code.iosApp="iosApp",zto.client.code.wap="wap",zto.client.code.pc="pc",zto.client.agent={},zto.client.agent.wechatMp="MicroMessenger",zto.client.agent.alipayFuwu="AlipayClient",zto.client.agent.qqMp="QQ/",zto.client.agent.androidApp="ZtoAndroid",zto.client.agent.iosApp="ZtoIos",zto.client.agent.wap="Mobile",zto.client.getClientCode=function(){var t=navigator.userAgent;return 0<=t.indexOf(zto.client.agent.wechatMp)?zto.client.code.wechatMp:0<=t.indexOf(zto.client.agent.alipayFuwu)?zto.client.code.alipayFuwu:0<=t.indexOf(zto.client.agent.qqMp)?zto.client.code.qqMp:0<=t.indexOf(zto.client.agent.androidApp)?zto.client.code.androidApp:0<=t.indexOf(zto.client.agent.iosApp)?zto.client.code.iosApp:0<=t.indexOf(zto.client.agent.wap)?zto.client.code.wap:zto.client.code.pc},zto.auth=zto.auth||{},zto.auth.tokenCookieName="BEARER-TOKEN",zto.auth.setToken=function(t){(zto.client.getClientCode()===zto.client.code.pc?r.sessionStorage:r.localStorage).setItem(zto.auth.tokenCookieName,t)},zto.auth.getToken=function(){return(zto.client.getClientCode()===zto.client.code.pc?r.sessionStorage:r.localStorage).getItem(zto.auth.tokenCookieName)},zto.auth.deleteToken=function(){(zto.client.getClientCode()===zto.client.code.pc?r.sessionStorage:r.localStorage).removeItem(zto.auth.tokenCookieName,"/")},zto.auth.isAuth=function(t){null==t&&(t=!0);var e=zto.auth.getTokenInfo();if(!e)return!1;if(!e.exp)return!1;var o=(new Date).getTime();return!((1e12<=e.exp?e.exp:1e3*e.exp)-6e5<=o)&&!(t&&!e.userId)},zto.auth.getTokenInfoByToken=function(t){try{if(!t)return{};if(!(e=t.match(/\..+\./))||e.length<=0)return{};var e=e[0].replace(/\./g,""),o=r.atob(e);return JSON.parse(o)}catch(t){return{}}},zto.auth.getTokenInfo=function(){var t=zto.auth.getToken();return zto.auth.getTokenInfoByToken(t)},zto.ssoState=zto.ssoState||{},zto.ssoState.setEntryState=function(t,e,o,n){r.sessionStorage.setItem("sso_requireUserBind",t,null,"/"),r.sessionStorage.setItem("sso_state",e,null,"/"),r.sessionStorage.setItem("sso_redirectUri",o,null,"/"),r.sessionStorage.setItem("sso_clientId",n,null,"/")},zto.ssoState.getEntryState=function(){return{requireUserBind:r.sessionStorage.getItem("sso_requireUserBind"),state:r.sessionStorage.getItem("sso_state"),redirectUri:r.sessionStorage.getItem("sso_redirectUri"),clientId:r.sessionStorage.getItem("sso_clientId")}},zto.ssoState.deleteEntryState=function(){r.sessionStorage.removeItem("sso_requireUserBind"),r.sessionStorage.removeItem("sso_state"),r.sessionStorage.removeItem("sso_redirectUri"),r.sessionStorage.removeItem("sso_clientId")},zto.thirdParty=zto.thirdParty||{},zto.thirdParty.setState=function(t,e){var o=n()+n()+n()+n()+n()+n()+n()+n();return sessionStorage.setItem(o,JSON.stringify({stateId:o,thirdPartyAppCode:t,action:e})),o},zto.thirdParty.getState=function(t){var e=sessionStorage.getItem(t);if(e){e=JSON.parse(e);return e.stateId===t?e:null}return null},zto.services=zto.services||{},zto.services.smsVerifyCode=function(t,e){var o={};return o=e?{url:zto.config.serviceUrl+"/auth_account_sendLoginOrRegisterSmsVerifyCode",method:"POST",data:t,headers:e}:{url:zto.config.serviceUrl+"/auth_account_sendLoginOrRegisterSmsVerifyCode",method:"POST",data:t},i(o)},zto.services.image=function(t){t={url:zto.config.image_serviceUrl+"/captcha/image",method:"POST",data:t};return i(t)},zto.services.loginOrRegister=function(t){t={url:zto.config.serviceUrl+"/auth_account_loginOrRegisterBySmsVerifyCode",method:"POST",data:t};return i(t)},zto.services.loginByPassword=function(t){t={url:zto.config.serviceUrl+"/auth_account_loginByPassword",method:"POST",data:t};return i(t)},zto.services.passwordVerifyCode=function(t,e){e={url:zto.config.serviceUrl+"/auth_account_sendForgotPasswordVerifyCode",method:"POST",data:t,headers:e};return i(e)},zto.services.verifyCode=function(t){t={url:zto.config.serviceUrl+"/auth_account_checkForgotPasswordVerifyCode",method:"POST",data:t};return i(t)},zto.services.forgotPasswordByVerifyCode=function(t){t={url:zto.config.serviceUrl+"/auth_account_forgotPasswordByVerifyCode",method:"POST",data:t};return i(t)},zto.services.sendRegisterSmsVerifyCode=function(t,e){e={url:zto.config.serviceUrl+"/auth_account_sendRegisterSmsVerifyCode",method:"POST",data:t,headers:e};return i(e)},zto.services.registerBySmsVerifyCode=function(t){t={url:zto.config.serviceUrl+"/auth_account_registerBySmsVerifyCode",method:"POST",data:t};return i(t)},zto.services.wechatGenerateQrcode=function(t){t={url:zto.config.serviceUrl+"/auth_wechat_generateQrcode",method:"POST",data:t};return i(t)},zto.services.wechatScanQrcodeLogin=function(t){t={url:zto.config.serviceUrl+"/auth_wechat_scanQrcodeLogin",method:"POST",data:t};return i(t)},zto.services.wechatMpAuthByCode=function(t){t={url:zto.config.serviceUrl+"/auth_wechatMp_authByCode",method:"POST",data:t};return i(t)},zto.services.alipayAuthByCode=function(t){t={url:zto.config.serviceUrl+"/auth_alipay_authByCode",method:"POST",data:t};return i(t)},zto.services.qqMpAuthByCode=function(t){t={url:zto.config.serviceUrl+"/auth_qqMp_authByCode",method:"POST",data:t};return i(t)},zto.services.qqConnectAuthByCode=function(t){t={url:zto.config.serviceUrl+"/auth_qqWeb_authByCode",method:"POST",data:t};return i(t)},zto.services.qqConnectBind=function(t){t={url:zto.config.serviceUrl+"/auth_qqWeb_bindByCode",method:"POST",data:t};return i(t)},zto.services.logout=function(t){t={url:zto.config.serviceUrl+"/auth_account_logout",method:"POST",data:t};return i(t)},zto.services.checkToken=function(t){t={url:zto.config.serviceUrl+"/auth_token_checkToken",method:"POST",data:t};return i(t)},zto.services.checkAuthParameter=function(t){t={url:zto.config.serviceUrl+"/auth_openAuth_checkAuthParameter",method:"POST",data:t};return i(t)},zto.services.wechatWebAuthByCode=function(t){t={url:zto.config.serviceUrl+"/auth_wechatWeb_authByCode",method:"POST",data:t};return i(t)},zto.services.wechatWebBindByCode=function(t){t={url:zto.config.serviceUrl+"/auth_wechatWeb_bindByCode",method:"POST",data:t};return i(t)},"function"==typeof axios&&axios.interceptors.request.use(function(t){return t.headers["x-clientCode"]=zto.client.getClientCode(),t.headers["x-token"]=zto.auth.getToken(),t},function(t){return Promise.reject(t)})}(window);